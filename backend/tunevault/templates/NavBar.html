<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'navBar.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="Menu">
        <a href="/">
        <button class="Logo">
            <div>
                <img class="LogoImg" src="{% static 'resources/logo.png' %}" alt="logo" />
            </div>
        </button>
        </a>
        <nav class="Navigation">
        <ul class="List">
            <li class="NavItem"><a href="/music/" class="Item">Music</a></li>
            <li class="NavItem"><a href="/podcasts/" class="Item">Podcasts</a></li>
            <li class="NavItem"><a href="/members/" class="Item">Members</a></li>
            <li class="NavItem">
            {% if user.is_authenticated %}
            <a href="/profile/" class="Item">
                <div class="profile-button" class="Item">
                    <i class="material-icons">account_circle</i>
                </div>
            </a>
            {% else %}
            <a href="/login">
                <button class="LogIn">
                    <p class="ItemLogIn">Log In</p>
                </button>
            </a>
            {% endif %}
            </li>
            <li class="NavItem">
            <div class="search">
                <input class="Item" type="text" id="searcher" />
                <i class="material-icons">search</i>
            </div>
            </li>

        </ul>
        </nav>
    </div> 

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const currentRelativePath = window.location.pathname
        const menuItems = document.querySelectorAll('.NavItem')
        menuItems.forEach(function (item) {
            const menuItemUrl = item.querySelector('a').getAttribute('href')
            if (currentRelativePath === menuItemUrl || currentRelativePath.includes('artist') && menuItemUrl == "/music/" ||
                currentRelativePath.includes('album') && menuItemUrl == "/music/" || currentRelativePath.includes('podcast') && menuItemUrl == "/podcasts/") {
                if(menuItemUrl == '/profile/') {
                    item.classList.add('profile-active')
                }
                else item.classList.add('active')
            }
        })
    });
    </script>
    
</body>
</html>
