<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'vault.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'globals.css' %}">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>
        <div class="Back">
            {% include 'NavBar.html' %}
            <div class="vault">
                <div class="likesBox">
                    <p>{{likes}}</p>
                    <i onclick="toggleIcon(this)" class="material-icons like">favorite_border</i>
                </div>

                <div class="center">
                    <img class="main-image" height="300" width="300" src="{{vault.spotifyimg}}">
                </div>

                <div class="info">
                    <p class="type">{{vault.vtype}}</p>
                    <div class="info-header">
                    <h2>{{vault.title}}</h2>
                    <div class="button">
                        <a href="{{vault.external_url}}" style="text-decoration: none;">
                            <button class="spotifyButton">
                                <img height="20" width="20" class="spotifyLogo" src="{% static 'resources/spotify.png' %}">
                                Spotify
                            </button>
                        </a>
                    </div>
                    </div>
                    <div class="secondary-info">
                        <img class="secondary-image" height="45" width="45" src="{{vault.authors.0.image}}">
                        <p class="info-item">{{ vault.authors.0.name }}</p>
                        {% if vault.type == 'album' %}
                        <p class="info-separation">路</p>
                        <p class="info-item-2">{{vault.date}}</p>
                        <p class="info-separation">路</p>
                        <p class="info-item-2" >{{vault.total_tracks}} songs</p>
                        {% elif  vault.type == 'artist'%}
                        <p class="info-separation">路</p>
                        <p class="info-item-2">{{vault.genres.0}}</p>
                        {% elif  vault.type == 'podcast' %}
                        <p class="info-separation">路</p>
                        <p class="info-item-2">{{vault.total_tracks}} episodes </p>
                        {% endif %}
                    </div>
                    {% if vault.type == 'podcast' %}
                    <div class="description">
                        <p>{{vault.description}}</p>
                    </div>
                    {% endif %}
                </div>
                <div class="commentaries">
                    {% for post in posts %}
                    <hr>
                    {% include 'commentBox.html' with username=post.user date=post.date title=post.title%}
                    {% endfor %}
                    <hr>
                </div>
                <div class="join-vault">
                    <button class="join-button">
                        Join the vault
                        <img height="20" width="20" class="mini-logo" src="{% static 'resources/logo-mini.png' %}">
                    </button>
                </div>
        </div>

        <script>
             function toggleIcon(x) {
                if (x.textContent === 'favorite_border') {
                    x.textContent = 'favorite';
                } else {
                    x.textContent = 'favorite_border';
                }
            }
        </script>

    </body>
</html>