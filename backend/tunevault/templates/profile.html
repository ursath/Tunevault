<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'settings.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'globals.css' %}">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>

    <body>
        <div class="Back">
            {% include 'NavBar.html' %}
            <div class="formBox">
                <div style="display: flex; width: 100%; margin: 30px 0;">
                    <h3 style="text-align: center; width: 100%">@{{ user_profile.user }}</h3>
                    <a href="/" style="margin-left: auto">
                        <i class="material-icons closeIcon">close</i>
                    </a>
                </div>

                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <div style="display: flex;">   
                            <div class="profileImage">
                                <h3></h3>
                                <figure>
                                    <img class="image-large" src="{{user_profile.profileimg.url}}" alt="profile image">
                                </figure>
                            </div>
                    

                        <div style="padding: 8%">
                            <div class="item">
                                <label class="label" for="location">Location</label>
                                <div class="static-item">{{user_profile.location}}</div>
                            </div>
                            <div class="item">
                                <label class="label" for="about">Biography</label>  
                                <div class="static-item">{{user_profile.bio}}</div>
                            </div> 
                        </div>
                    </div>

                    <div class="buttonBox">
                        <a href="/settings" style = "text-decoration: none">
                            <div class="editButton"> 
                                Edit profile <i class="material-icons" style="margin-left: 5px;">edit</i>
                            </div>
                        </a>
                        <div class="logoutButton" onclick="showPopup()"> 
                            <span style="display: flex; align-items: center;"> 
                                Log out <i class="material-icons" style="margin-left: 10px;">logout</i>
                            </button>
                        </div>                         
                    </div>
                </form>
            </div>

            <div id="popup" class="popup" style="display: none;">
                <span onclick="closePopup()" class="closeButton"><i class="material-icons">close</i></span>
                <h4>Are you sure you want to log out?</h4>
                <p>If you do so, your session will be closed.</p>
                <div class="buttonBox">
                    <div class="editButton" onclick="closePopup()" style="margin-right: 25px; width: 100px;"> Cancel </div>
                    <a href="/logout" style = "text-decoration: none">  
                        <div class="logoutButton" style="width: 100px;"> Log out </div> 
                    </a>
                </div>
            </div>

        </div>

        <script>
            function showPopup() {
              var popup = document.getElementById("popup");
              popup.style.display = "block";
            }
            
            function closePopup() {
              var popup = document.getElementById("popup");
              popup.style.display = "none";
            }
            </script>

    </body>
</html>